---
title: â€œåœ¨Mac M1éƒ¨ç½²Jekyllçš„è¯•é”™è¿‡ç¨‹â€
author: hoochanlon
categories: [Blogging, Jekyll]
tags: [åšå®¢é…ç½®å­˜æ¡£]
math: true
mermaid: true
date: 2021-03-28 10:22:04
---

## Macä½¿ç”¨ä¸Šçš„ä¸€äº›å°é—®é¢˜

ä½¿ç”¨vs codeæ‰“å¼€gemfileå†™å…¥æ–‡ä»¶æ–¹ä¾¿sudoä¿å­˜ï¼ŒæŒ‰ç€[Jekyll-admin](https://github.com/jekyll/jekyll-admin)æ•™ç¨‹æ¥å³å¯ä½¿ç”¨ã€‚ä½†å§‹ç»ˆä»¥â€œxâ€çš„æ–¹å¼æ‰“å¼€å­˜åœ¨é—®é¢˜ï¼Œç½‘ä¸ŠæŸ¥æ‰¾èµ„æ–™å‘ç°è¿™ä¸€ä¸ªå‘½ä»¤ï¼š`sudo chown -R user /dir`ã€‚ğŸ’¡æ›´æ”¹æ‰€æœ‰è€…å½’å±ï¼Œchmodåˆ™æ˜¯æ–‡ä»¶åŠæ–‡ä»¶å¤¹æ‰§è¡Œå±æ€§ã€‚

é‡å¤å¯ç”¨åŠå…³é—­Jekyllä¹Ÿå­˜åœ¨ç«¯å£å ç”¨é—®é¢˜ï¼Œ`control`+`c`ä¸èƒ½é‡ç”¨ç«¯å£ã€‚ä½¿ç”¨`sudo lsof -i:å ç”¨ç«¯å£ `ä¸`sudo kill å ç”¨ç«¯å£è¿›ç¨‹`è§£å†³æ­¤ç±»é—®é¢˜ã€‚[ç®€ä¹¦-a23e72df5267-Mac OSX ä¸‹Address already in use ç«¯å£å ç”¨é—®é¢˜](https://www.jianshu.com/p/de3c2874383d)

option+shift+h,åˆ‡æ¢åŠè§’ç¬¦å·â€”â€”Macï¼›ä½†æˆ‘ä»¬æ­¤æ¬¡ä¸»è¦é—®é¢˜ç‚¹ï¼š

* å®‰è£…å¤±è´¥ï¼Œç³»ç»Ÿç‰ˆæœ¬ä¸å…¼å®¹ä¸è®¿é—®æƒé™
* å®‰è£…æˆåŠŸä½¿ç”¨å‘½ä»¤æŠ¥é”™ï¼Œå„ç§ç¼ºå°‘ç»„å»ºèµ„æº
* ç»„ä»¶å·²å®‰è£…ï¼Œä½†ä½¿ç”¨å‘½ä»¤è¿˜æ˜¯æç¤ºç¼ºå°‘ç»„ä»¶ï¼ˆè®¿é—®æƒé™ï¼‰
* ä½¿ç”¨æœ€é«˜æƒé™sudo è¿˜å­˜åœ¨æ‹’ç»è®¿é—®ï¼ˆå†…æ ¸ä¿æŠ¤æœºåˆ¶ï¼‰
* ä¸‹è½½å®‰è£…ç»„ä»¶å‘½ä»¤é…ç½®è¿‡äºéº»çƒ¦ï¼ŒåŒ…ç®¡ç†å·¥å…·å­˜åœ¨ç½‘ç»œå¹²æ‰°

ç¨‹åºæŠ¥é”™æè¿°ä¸å…·æœ‰æ•´ä½“æ€§ï¼Œåå‘æ¨è¿›å®æ–½çš„èŠ‚ç‚¹è¿‡ç¨‹åŸå› ï¼Œéš¾ä»¥ä»æ•´ä½“çœ‹é—®é¢˜ã€‚ä¸ªäººç¯å¢ƒç›¸å¯¹éšæœºï¼ˆæ—¶é—´ç‚¹ã€ç»„ä»¶å®‰è£…å®Œå–„åº¦ã€ç‰ˆæœ¬ï¼‰è§£å†³æ–¹å¼å­˜åœ¨å·®å¼‚å¹¶ä¸é€‚ç”¨äºå¤šæ•°ã€‚

æŠ¥é”™æ¬¡æ•°é¢‘ç¹ï¼ŒåŸå› é—®é¢˜è¾ƒå¤šä¸”è§£å†³æ–¹å¼ä¸é€šç”¨ï¼Œå¾ˆå®¹æ˜“åœ¨é•¿æ—¶é—´è§£å†³è¿‡ç¨‹ç”šè‡³éƒ½å¿˜äº†è‡ªå·±åœ¨åšä»€ä¹ˆã€‚ç½‘ç«™ç»™å‡ºçš„é…ç½®è¿‡äºç®€å•ä¹Ÿå¿½è§†äº†å¯¹ç›¸å…³ç¯å¢ƒçš„è¯´æ˜ï¼Œä»–äººåšå®¢ä¸­åˆæ˜¯å¦å­˜åœ¨è§£å†³å¼‚å¸¸ç»™å‡ºç»“æœçš„è¿‡ç¨‹ï¼ˆæ€ç»´ï¼‰çœç•¥ï¼Ÿ

## ***Jekyllå®‰è£…åŠé…ç½®é—®é¢˜ï¼ˆåŠ è½½Â·è¿è¡Œï¼‰***

***ä¸€äº›å‘½ä»¤é…ç½®çš„æ‰§è¡Œä¹Ÿéœ€è¦å·¥å…·åŒ…ç¯å¢ƒæ”¯æŒ` xcode-select --install `***


å¦‚ä¸‹è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆç”¨homebrewçš„åŸå› ã€‚

![7CD338C1-54F5-4146-B688-667279E24DAB.png](https://i.loli.net/2021/03/27/4QuzgOsqyBPSp3L.jpg)

#### é˜²ç«å¢™å¹²æ‰°brewä¸‹è½½

å¯æ˜¯ç°æœ‰çš„ç¯å¢ƒå­˜åœ¨ç½‘ç»œé˜²ç«å¢™å¹²æ‰°é—®é¢˜ï¼š

* æˆ‘ä»¬æ™®éè´­ä¹°VPNé€šå¸¸è¾ƒä¸ºæ˜‚è´µè€Œä¸”å®¹æ˜“è¢«å°ï¼Œé…ç½®ä»£ç†è¿˜å­˜åœ¨windows/macç»ˆç«¯åŠå…¶ä»–å‘½ä»¤è¡Œå·¥å…·çš„æ”¯æŒç¨‹åº¦ï¼Œå‘½ä»¤ä¹Ÿé€šå¸¸ä¸ä¸€è‡´ã€‚

åœ¨è¿™æ ·çš„æ¡ä»¶ä¸‹ï¼Œæˆ‘ä»¬é€šå¸¸æ˜¯å¯»æ‰¾é•œåƒæºæœ€ä¸ºåˆé€‚ã€‚[brew.idayer.com-homebrewé•œåƒåŠ©æ‰‹ç½‘ç«™](https://brew.idayer.com/)ï¼Œå¤åˆ¶ç²˜è´´å‘½ä»¤è¡Œè¿›è¡Œå®‰è£…ã€‚

`/bin/bash -c "$(curl -fsSL https://cdn.jsdelivr.net/gh/ineo6/homebrew-install/install.sh)"`

#### ä½¿ç”¨Jekyllæƒé™é—®é¢˜

[å…³äºä½¿ç”¨sudo chmod 777æˆæƒè¿è¡Œå®‰è£…æ‰€å‡ºç°çš„Operation not permittedçš„é”™è¯¯æç¤ºé“¾æ¥](https://segmentfault.com/q/1010000004924940/a-1020000004925010)ï¼ŒæŸ¥æ˜åŸå› ä¸ºç³»ç»Ÿå†…æ ¸ä¿æŠ¤æ‰€é€ æˆï¼Œ`csrutil status`å¯ä»¥æŸ¥çœ‹ä¿æŠ¤çŠ¶æ€æ˜¯å¦å¤„äºå¼€å¯ï¼Œåœ¨Macçš„æ¢å¤osä½¿ç”¨ç»ˆç«¯``csrutil disable`ï¼ŒæŒ‰â€œyâ€è¿›è¡Œç¡®è®¤é‡å¯ã€‚

##  ç”±ä¸Šï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åŒ…ç®¡ç†å·¥å…·ï¼Ÿ 

### ç¯å¢ƒå˜é‡ä¿®æ”¹é—®é¢˜

ç¯å¢ƒå˜é‡ä¿®æ”¹ä¸å½“é€ æˆé”™ä¸ŠåŠ é”™ï¼Œç¯å¢ƒå˜é‡è¿˜å­˜åœ¨ä¼˜å…ˆçº§é—®é¢˜ï¼Œè¿˜æœ‰æµªè´¹æ—¶é—´çš„é‡è£…ç³»ç»Ÿã€‚

[ç®€ä¹¦-iambowen-éƒ¨ç½²çš„æ¨¡å¼(ä¸€):åŸºç¡€è®¾æ–½å³ä»£ç ](https://www.jianshu.com/p/ffa986168f69)æ‰€è¯´çš„**é…ç½®æ¼‚ç§»ï¼ˆConfiguration Driftï¼‰ã€è„†å¼±çš„åŸºç¡€è®¾æ–½ï¼ˆFragile Infrastructureï¼‰**ï¼Œå¼€å‘ç¯å¢ƒçš„é€‚ç”¨ç¨‹åºè¿è¡ŒèŒƒå›´å¹¿ï¼Œä½†é…ç½®ä¹Ÿæå…¶ç¹æ‚ä¸è„†å¼±ï¼Œéš¾ä»¥è¿½æº¯ä»¥åŠæ’æŸ¥åŸå› ï¼Œä¹Ÿå¾ˆéš¾è¿›è¡Œä¿®å¤ã€‚å› æ­¤æˆ‘ä»¬è¦å°¤ä¸ºå°å¿ƒã€‚

### jekyllç‰ˆæœ¬é—®é¢˜

jekyll4.2ç‰ˆæœ¬å¼€å§‹ï¼Œåœ¨serveåé¢æ·»åŠ `--trace`

![D2367715-10C3-437E-97A9-6FE3024C774E.png](https://i.loli.net/2021/03/27/Uho5FWeYkrRg2mw.jpg)

å¯æ˜¯æˆ‘ä»¬æ‰§è¡Œä¹‹åå‘¢ï¼Ÿæ˜æ˜å­˜åœ¨åˆä¸ºä»€ä¹ˆåŠ è½½ä¸èµ·æ¥ï¼Ÿ

![648AD4F7-9E63-40EA-8EF7-F826C982B10A.png](https://i.loli.net/2021/03/27/5Do31lm8JXF27YA.jpg)

`sudo bundle exec jekyll serve --trace` 

![AF952680-DB43-4CD9-9674-5C5D0E2E21BD.png](https://i.loli.net/2021/03/27/Z6n3JCR2rukUPob.jpg)

å¦‚æœè¿˜æ˜¯æç¤º`bundler: failed to load command: jekyll`ï¼Œjekyllæ–‡ä»¶ä¹Ÿå­˜åœ¨ï¼Œä½¿ç”¨[pages-gem/issues/752](https://github.com/github/pages-gem/issues/752)æä¾›çš„`bundle add webrick`ã€‚[åŸå› ä¸º`webrick`gemæ˜¯ä»ruby3çš„æ ‡å‡†åº“ä¸­åˆ é™¤çš„ï¼Œæ‰€ä»¥å®ƒéœ€è¦åŒ…å«åœ¨gemæ–‡ä»¶ä¸­.](https://www.5axxw.com/questions/content/grbr28)

### åˆå§‹åŒ–é—®é¢˜ä¸æ–‡ä»¶ä¾èµ–å…³ç³»

ä½¿ç”¨ `source "https://rubygems.org"`ã€`bundle install` å‘½ä»¤å®‰è£…å‡ºç°ï¼Œè¿è¡Œå‘½ä»¤æç¤ºâ€œ Could not locate Gemfile or .bundle/ directoryâ€ä¹‹ç±»çš„é”™è¯¯ï¼Œ[æ ¹æ®è¿™ä¸ªé“¾æ¥æŒ‡å¼•æ‰çŸ¥é“è¦åˆå§‹åŒ–`bundle init`åˆ›å»ºgem file](https://www.itranslater.com/qa/details/2582629696882082816)

åæ¥æ‰è¦äº†è§£å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› ï¼Œ[360docs-Gemfile è¯¦è§£](http://www.360doc.com/content/16/0322/17/10058718_544367748.shtml)å¾—çŸ¥gemfileä¸gemçš„å…³ç³»ï¼š

* gemfileæ˜¯gemæè¿°ä¾èµ–çš„æ–‡ä»¶ï¼Œè€Œè¿™ä»½æè¿°åŒ…å«ï¼šä¾èµ–ã€å®‰è£…æºçš„æŒ‡å®šï¼Œä¸åŒgemç»„ä»¶çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œè¿™å‡ ç‚¹æ„æˆæ•´ä½“çš„ä¾å­˜å…³ç³»ã€‚

ç”±ä¸Šè¿°ä¹Ÿè”æƒ³åˆ°ï¼šæ¯ä¸ªå¼€å‘è€…å®é™…ä¸Šéƒ½æ˜¯æ ¹æ®è‡ªèº«ç¯å¢ƒéœ€æ±‚è€Œå¼€å‘çš„ç»„ä»¶ï¼Œå¯èƒ½ä¸€å¼€å§‹å°±å¹¶ä¸æ˜¯ä¸ºè¿™ä¸ªäº§å“è€Œå­˜åœ¨çš„ï¼Œè¿™ä¸ªäº§å“ä¸ºäº†æ›´å¥½çš„ä½¿ç”¨æˆ–ä½“éªŒæ•ˆæœè€ŒæŠŠä»–ä»¬é›†æˆç»„è£…äº†èµ·æ¥ï¼Œç”±äºè¿™ä¸ªç°è±¡çš„å­˜åœ¨ä¹Ÿå°±æœ‰ç‰ˆæœ¬ä¸ç›¸å…¼å®¹é€‚é…çš„æƒ…å†µã€‚

æ–°äº§å“æ˜¯å¦ç¨³å®šï¼Ÿå…·æœ‰ç¼ºé™·çš„äº§å“æ˜¯å¦èƒ½è¡¥ä¸å®Œå–„å›æ¥ï¼Ÿé‡åˆ°é‡å¤§å¼‚å¸¸äº‹æ•…ï¼Œèƒ½ä¸èƒ½å›æ»šåˆ‡æ¢æ­£å¸¸è¿è¡Œï¼Ÿæˆ‘ä»¬æ¥çœ‹è¿™ç¯‡æ–‡ç« [luke stringer-Jekyll on the Apple M1](https://stringer.dev/2021/02/14/jekyll-on-the-apple-m1.html)çš„è¡Œäº‹é£æ ¼ï¼š

* é‡åˆ°å¼€å‘ç¯å¢ƒçš„ç›¸å…³ç»„ä»¶ç¼ºå¤±ï¼Œå¹¶ä¸æ˜¯ä¸‹è½½å•ä¸€çš„æŸä¸€ä¸ªç»„ä»¶ï¼Œè€Œæ˜¯ä¸‹è½½åŒ…ç®¡ç†å·¥å…·ã€‚

  * å†ç”±è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·ä¸‹è½½å¼€å‘ç¯å¢ƒ

* è¿™ä¸ªäº§å“æ˜¯åŸºäºè¿™ä¸ªå¹³å°ä¸Šï¼Œè¿™ä¸ªå¹³å°åˆæ˜¯å¦å­˜åœ¨ä¸ç¨³å®šæ€§

  * ä¸‹è½½å…¶ç›¸å…³çš„ç¯å¢ƒç‰ˆæœ¬ç®¡ç†å·¥å…·

* ä½¿ç”¨è¯¥äº§å“çš„æŸä¸€ç±»åŠŸèƒ½ï¼Œèƒ½å¦å¯åŠ¨ç±»ä¼¼äºç»¿è‰²ç‰ˆç¨‹åºå•ç‹¬è¿è¡Œï¼Ÿ

  * è¿›è¡Œæ†ç»‘è¿è¡Œ

* å‘½ä»¤æ²¡æ‰¾åˆ°å´å­˜åœ¨æ­¤ç±»æ–‡ä»¶å¤¹ä¸æ–‡ä»¶

  * ä¸æ­¢ç¯å¢ƒå˜é‡è¿˜æœ‰è‡ªç”±å½»åº•çš„æƒé™æ‰§è¡Œé—®é¢˜
  * **æœ‰æ—¶ç™¾åº¦å‡ºæ¥çš„é—®é¢˜åˆ«äººæ‰€æ–­è¨€çš„ç»“è®ºä¹Ÿåªæ˜¯é—®é¢˜äº‹æ•…å…¶ä¸­çš„ä¸€ä¸ªåŸå› ä¹‹ä¸€**

  ![21D003E0-263E-46C3-9BFF-18B6307F9D23.png](https://i.loli.net/2021/03/27/pbVhGcqmW7vrIF9.jpg)



## ç»¼ä¸Šï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Ÿ

### jekyllç»“æ„å…³ç³»

> æ‘˜è‡ª [åˆæ¢Jekyllï¼ˆä¸€ï¼‰ï¼šJekyllæ˜¯ä»€ä¹ˆï¼ŸJekyllå¸¸ç”¨çš„ä¸“ä¸šåè¯](https://blog.csdn.net/yq_forever/article/details/103449864)

* Gemç›¸å½“äºRubyä¸­çš„åŒ…ï¼Œå¯ä»¥è°ƒç”¨
* Jekyllä¸€ç§ç”¨Rubyå†™æˆçš„é™æ€ç½‘é¡µç”Ÿæˆå·¥å…·ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªGem

* Gemfileæ˜¯Jekyllä¸­ç”¨æ¥åˆ—å‡ºæ‰€éœ€Gemçš„ä¸€ä¸ªæ–‡ä»¶ï¼ŒBundlerå¯ä»¥å®‰è£…Gemfileé‡Œçš„Gemã€‚

